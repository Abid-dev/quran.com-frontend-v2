<%
  translations = approved_translations
  trans_keys = translations.keys
%>
<div data-controller="filter-list" data-list="#ordered-translations" data-input="#filter-translations">
  <div class="rounded-search d-flex justify-content-end my-4">
    <input class="form-control bg-light" placeholder="Filter" type="search" id="filter-translations"/>
  </div>

  <div id='ordered-translations'>
    <div class="py-4 border-bottom">
      <h6 class="ff-b" data-filter-tags="english">
        English
      </h6>

      <%= render partial: 'translation', collection: translations[trans_keys.delete('english')], as: :translation, locals: {language: 'english'} %>
    </div>

    <div class="py-4">
      <h5 class="ff-b mb-3">Other Languages</h5>
      <% trans_keys.each do |lang| %>
        <h6 class="ff-b" data-filter-tags="<%= lang %>">
          <%= lang.humanize %>
        </h6>

        <%= render partial: 'translation', collection: translations[lang], as: :translation, locals: {language: lang} %>
      <% end %>
    </div>
  </div>
</div>
