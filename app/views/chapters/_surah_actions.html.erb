<%#= render 'chapters/setting' %>

<section class="bg-info surah-actions sticky-top">
  <div class="container position-relative">
    <div class="row align-items-center actions-row">
      <div class="col-md-2 col-5">
        <div class="dropdown surah-dropdown">
          <button class="btn btn-white dropdown-toggle position-relative border-right" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <div class="text-left pr-md-5 pr-3">
              <strong>
                <%= @presenter.chapter.name_complex %>
              </strong>
              <p class="text-muted mb-0"><%= @presenter.chapter.translated_name.name %></p>
            </div>
          </button>

          <div class="dropdown-menu border-0 custom-shadow pt-0" aria-labelledby="dropdownMenuButton">
            <div class="d-flex justify-content-between align-items-center p-3 border-bottom d-md-none">
              <h6 class="mb-0 ff-b">Surah</h6>
              <%= lazy_image_tag 'media/images/icons/cancel.svg', width: '20px', class: "c-pointer", data: {target: "sidebar.settingClose"} %>
            </div>

            <div class="rounded-search d-flex justify-content-end col-5 dropdown-item sticky-top bg-white pt-3">
              <%= render 'shared/search_form', expanded: true, mobile_expand: false %>
            </div>

            <% @presenter.chapters.find_each do |chapter| %>
              <div class="dropdown-item">
                <%= link_to "#{chapter.chapter_number} #{chapter.name_simple}", chapter_path(chapter), data: {arabic: chapter.name_arabic} %>
              </div>
            <% end %>
          </div>
        </div>
      </div>

      <div class="col-md-1 col-4">
        <div class="dropdown verse-dropdown">
          <button class="btn btn-white dropdown-toggle position-relative" type="button" id="verseDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <div class="text-left pr-md-5 pr-3">
              <strong> Verse <%= @presenter.paginate.first.verse_number %></strong>
            </div>
          </button>

          <div class="dropdown-menu border-0 custom-shadow pt-0" aria-labelledby="verseDropdown">
            <div class="d-flex justify-content-between align-items-center p-3 border-bottom d-md-none">
              <h6 class="mb-0 ff-b">Verse</h6>
              <%= lazy_image_tag 'media/images/icons/cancel.svg', width: '20px', class: "c-pointer", data: {target: "sidebar.settingClose"} %>
            </div>
            <div class="rounded-search d-flex justify-content-end col-5 dropdown-item sticky-top bg-white pt-3">
              <%= render 'shared/search_form', expanded: true, mobile_expand: false %>
            </div>
            <% @presenter.paginate.find_each do |verse| %>
              <div class="dropdown-item">
                <%= link_to "Verse #{verse.verse_number}", verse_path(verse) %>
              </div>
            <% end %>
          </div>
        </div>
      </div>

      <div class="col-md-5 d-md-block d-none">
        <ul class="nav nav-pills mb-0 justify-content-end" id="pills-tab" role="tablist">
          <li class="nav-item">
            <a class="nav-link active" id="pill-translation-tab" data-toggle="pill" href="#pill-translation" role="tab" aria-controls="pill-translation" aria-selected="true">
              <%= _t('reader_mode.translations') %>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" id="pill-reading-tab" data-toggle="pill" href="#pill-reading" role="tab" aria-controls="pill-reading" aria-selected="false">
              <%= _t('reader_mode.reading') %>
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link" id="pill-surha-tab" data-toggle="pill" href="#pill-info" role="tab" aria-controls="pill-reading" aria-selected="false">
              <%= _t('reader_mode.info') %>
            </a>
          </li>
        </ul>
      </div>

      <div class="col text-right">
        <button class="btn btn-outline-secondary" data-controller="sidebar" data-target="#right-sidebar" data-close=".close-right-sidebar">
          <i class="fa fa-cog", class="c-pointer"></i>
          <span class="d-md-inline d-none">
            <%= _t('settings.label') %>
          </span>
        </button>
      </div>
    </div>
  </div>
</section>
